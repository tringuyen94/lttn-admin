(this["webpackJsonpadminv2-lttn"]=this["webpackJsonpadminv2-lttn"]||[]).push([[0],{289:function(e,t,a){},358:function(e,t,a){e.exports=a(517)},363:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},371:function(e,t,a){e.exports=a.p+"static/media/product.8b7b84e0.jpg"},372:function(e,t,a){e.exports=a.p+"static/media/category.5b7f3c2a.png"},373:function(e,t,a){e.exports=a.p+"static/media/brand.f96e992c.jpg"},392:function(e,t,a){},394:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){e.exports=a.p+"static/media/logoLTTN.66c68fd8.jpg"},413:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},422:function(e,t){},424:function(e,t){},460:function(e,t){},461:function(e,t){},517:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=(a(363),a(364),a(365),a(538)),u=a(542),i=a(543),m=a(545),d=a(71),s=(a(366),a(47)),p=function(){var e=Object(s.f)();return r.a.createElement(l.a,{container:!0,justify:"space-between",className:"main"},r.a.createElement(l.a,{item:!0,md:4},r.a.createElement(u.a,{className:"main__card"},r.a.createElement(i.a,{onClick:function(){return e.push("/products")}},r.a.createElement("img",{alt:"product",src:a(371)}),r.a.createElement(m.a,{className:"card__content"},r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",align:"center",component:"h2"},"S\u1ea3n ph\u1ea9m"))))),r.a.createElement(l.a,{item:!0,md:4},r.a.createElement(u.a,{className:"main__card"},r.a.createElement(i.a,{onClick:function(){return e.push("/categories")}},r.a.createElement("img",{alt:"category",src:a(372)}),r.a.createElement(m.a,{className:"card__content"},r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",align:"center",component:"h2"},"Lo\u1ea1i s\u1ea3n ph\u1ea9m"))))),r.a.createElement(l.a,{item:!0,md:4},r.a.createElement(u.a,{className:"main__card"},r.a.createElement(i.a,{onClick:function(){return e.push("/brands")}},r.a.createElement("img",{alt:"brand",src:a(373)}),r.a.createElement(m.a,{className:"card__content"},r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",align:"center",component:"h2"},"Nh\xe3n h\xe0ng"))))))},f=a(273),h=a(342),b=a.n(h),E=a(34),g=a(29),y=a(340),j="http://lttnelectric.com:9000",v=a.n(y).a.create({baseURL:j}),O=new(function(){function e(){Object(E.a)(this,e)}return Object(g.a)(e,[{key:"login",value:function(e){return v({url:"/api/users/login",method:"POST",data:e})}}]),e}()),C=a(17),T=a(16),_=(a(392),function(){var e=Object(s.f)(),t=Object(T.b)();return r.a.createElement("div",{className:"navbar"},r.a.createElement("h1",{className:"admin-navivation",onClick:function(){return e.push("/admin")}},"admin"),r.a.createElement(f.a,{onClick:function(){return t(function(e){return console.log("log out here"),function(t){t({type:"LOGOUT"}),e.push("/login"),C.b.info("\u0110\xe3 \u0111\u0103ng xu\u1ea5t kh\u1ecfi h\u1ec7 th\u1ed1ng")}}(e))},variant:"outlined",endIcon:r.a.createElement(b.a,null)},"\u0110\u0103ng xu\u1ea5t"))}),I=a(8),w=a(22),x=a(9),N=a(274),P=(a(394),function(){var e=Object(n.useState)(),t=Object(x.a)(e,2),a=t[0],c=t[1],o=Object(s.f)(),l=Object(T.b)(),u=function(e){c(Object(w.a)({},a,Object(I.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"authentication"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(function(e,t){return function(a){O.login(e).then((function(e){a({type:"LOGIN",payload:e.data.jwt}),t.push("/admin"),C.b.success(e.data.message)})).catch((function(e){return C.b.error(e.response.data.message)}))}}(a,o))},className:"loginform",autoComplete:"off"},r.a.createElement(N.a,{className:"input",variant:"outlined",name:"email",autoFocus:!0,label:"Email",fullWidth:!0,onChange:u,required:!0}),r.a.createElement("br",null),r.a.createElement(N.a,{type:"password",className:"input",variant:"outlined",name:"password",label:"Password",fullWidth:!0,onChange:u,required:!0}),r.a.createElement("br",null),r.a.createElement(f.a,{variant:"contained",fullWidth:!0,color:"primary",type:"submit"},"Login")))}),k=a(96),B=a.n(k),S=new(function(){function e(){Object(E.a)(this,e)}return Object(g.a)(e,[{key:"fetchCategories",value:function(){return v({url:"api/categories",method:"get"})}},{key:"addCategory",value:function(e){return v({url:"api/categories/create-category",method:"post",data:{nameCategory:e}})}},{key:"updateCategoryById",value:function(e,t){return v({url:"api/categories/update-category-by-id/".concat(t),method:"PUT",data:e})}}]),e}()),D=function(){return function(e){S.fetchCategories().then((function(t){e(R(t.data))})).catch((function(e){return console.log}))}},R=function(e){return{type:"FETCH_CATEGORIES",payload:e}},F=a(198),L=a(551),W=a(552),U=function(){var e=Object(T.b)(),t=Object(T.c)((function(e){return e.category.categories})),a=Object(n.useState)(!1),c=Object(x.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(),i=Object(x.a)(u,2),m=i[0],d=i[1],p=Object(s.f)();Object(n.useEffect)((function(){e(D())}),[e]);var h=function(e){d({nameCategory:e.target.value})},b=[{name:"_id",label:"Id",options:{filter:!1,display:!1}},{name:"nameCategory",label:"Lo\u1ea1i s\u1ea3n ph\u1ea9m",options:{filter:!0,sort:!1}},{name:"Update",options:{filter:!1,sort:!1,display:o,customBodyRender:function(e,t,a){return r.a.createElement("div",null,r.a.createElement(N.a,{label:"Nh\u1eadp thay \u0111\u1ed5i",onChange:h}))}}},{name:"Setting",options:{filter:!1,sort:!1,empty:!0,customBodyRender:function(t,a,n){return o?r.a.createElement(F.a,{variant:"contained",color:"primary",onClick:function(){e(function(e,t,a){return function(n){S.updateCategoryById(e,t).then((function(e){a.go(0),C.b.success(e.data.message)}))}}(m,a.rowData[0],p))}},r.a.createElement(L.a,null)):r.a.createElement(f.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(W.a,null),onClick:function(){return l(!0)}},"C\u1eadp nh\u1eadt")}}}];return r.a.createElement(n.Fragment,null,r.a.createElement(B.a,{title:"C\xe1c lo\u1ea1i s\u1ea3n ph\u1ea9m ",data:t||void 0,columns:b,options:{filterType:"dropdown",selectableRows:"none"}}))},H=(a(410),function(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),a=t[0],c=t[1],o=Object(T.b)();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"category__container"},r.a.createElement(N.a,{variant:"filled",label:"Nh\u1eadp lo\u1ea1i s\u1ea3n ph\u1ea9m",name:"nameCategory",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement(f.a,{color:"primary",variant:"outlined",onClick:function(e){var t;e.preventDefault(),o((t=a,function(e){S.addCategory(t).then((function(a){e({type:"ADD_CATEGORY",payload:{nameCategory:t}}),C.b.success(a.data.message)})).catch((function(e){return C.b.error(e.response.data.message)}))})),c("")}},"Th\xeam")),r.a.createElement(U,null))}),M=(a(411),function(){return r.a.createElement("footer",{className:"footer text-center"},r.a.createElement("p",{className:"footer-company py-1 my-1"},"C\xf4ng ty TNHH Th\u01b0\u01a1ng m\u1ea1i \u0111i\u1ec7n t\u1eed LTTN Electric"," "),r.a.createElement("img",{src:a(412),alt:"",width:"40px",className:"rounded-circle"}))}),A=new(function(){function e(){Object(E.a)(this,e)}return Object(g.a)(e,[{key:"fetchBrands",value:function(){return v({url:"api/brands/get-brands",method:"get"})}},{key:"addBrand",value:function(e){return v({url:"api/brands/create-brand",method:"post",data:{nameBrand:e}})}},{key:"updateBrandById",value:function(e,t){return v({url:"api/brands/update-brand-by-id/".concat(t),method:"PUT",data:e})}}]),e}()),G=function(){return function(e){A.fetchBrands().then((function(t){e(J(t.data))})).catch((function(e){return console.log}))}},J=function(e){return{type:"FETCH_BRAND",payload:e}},V=function(){var e=Object(T.b)(),t=Object(T.c)((function(e){return e.brand.brands})),a=Object(s.f)(),c=Object(n.useState)(),o=Object(x.a)(c,2),l=o[0],u=o[1],i=Object(n.useState)(!1),m=Object(x.a)(i,2),d=m[0],p=m[1],h=function(e){u({nameBrand:e.target.value})};Object(n.useEffect)((function(){e(G())}),[e]);var b=[{name:"_id",label:"Id",options:{display:!1,filter:!1}},{name:"nameBrand",label:"Nh\xe3n h\xe0ng",options:{filter:!0,sort:!1}},{name:"Update",options:{filter:!1,sort:!1,display:d,customBodyRender:function(e,t,a){return r.a.createElement(N.a,{label:"Nh\u1eadp thay \u0111\u1ed5i",onChange:h})}}},{name:"Setting",options:{filter:!1,sort:!1,empty:!0,customBodyRender:function(e,t,n){return d?r.a.createElement(F.a,{variant:"contained",color:"primary",onClick:function(){!function(e,t,a){A.updateBrandById(e,t).then((function(e){a.go(0),C.b.success(e.data.message)})).catch((function(e){return C.b.error(e.response.data.message)}))}(l,t.rowData[0],a)}},r.a.createElement(L.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(W.a,null),onClick:function(){return p(!0)}},"C\u1eadp nh\u1eadt"))}}}];return r.a.createElement(n.Fragment,null,r.a.createElement(B.a,{title:"C\xe1c nh\xe3n h\xe0ng",data:t||void 0,columns:b,options:{filterType:"dropdown",selectableRows:"none"}}))},Y=(a(413),function(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),a=t[0],c=t[1],o=Object(T.b)();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"brand__container"},r.a.createElement(N.a,{variant:"filled",label:"Nh\u1eadp nh\xe3n h\xe0ng",name:"nameBrand",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement(f.a,{color:"primary",variant:"outlined",onClick:function(e){var t;e.preventDefault(),o((t=a,function(e){A.addBrand(t).then((function(t){e({type:"ADD_BRAND",payload:t.data.brand}),C.b.success(t.data.message)})).catch((function(e){return C.b.error(e.response.data.message)}))})),c("")}},"Th\xeam")),r.a.createElement(V,null))}),q=new(function(){function e(){Object(E.a)(this,e)}return Object(g.a)(e,[{key:"createProduct",value:function(e){return v({url:"api/products/create-product",method:"POST",data:e})}},{key:"fetchProducts",value:function(){return v({url:"api/products/get-products",method:"GET"})}},{key:"fetchProductById",value:function(e){return v({url:"api/products/get-product-by-id/".concat(e),method:"GET"})}},{key:"deleteProductById",value:function(e){return v({url:"api/products/delete-product/".concat(e),method:"DELETE"})}},{key:"updateProductById",value:function(e,t){return v({url:"api/products/update-product/".concat(t),method:"PUT",data:e})}},{key:"updateImageProduct",value:function(e,t){return v({url:"api/products/update-image/".concat(t),method:"PUT",data:e})}}]),e}()),$=function(e){return{type:"FETCH_PRODUCT_BY_ID",payload:e}},K=function(e){return{type:"FETCH_PRODUCTS",payload:e}},z=a(285),Q=a(195),X=a(196),Z=a(343),ee=a(526),te=a(346),ae=a.n(te),ne=a(553),re=a(554),ce=function(e){var t=e.maxNumber,a=e.isMultiple,c=e.handleFile,o=e.imageList,u=Object(n.useState)([]),i=Object(x.a)(u,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){o&&d(o)}),[o]),r.a.createElement(ae.a,{multiple:a,value:m,onChange:function(e){d(e),c(e)},maxNumber:t,dataURLKey:"data_url"},(function(e){var t=e.imageList,a=e.onImageUpload,n=e.onImageUpdate,c=e.onImageRemove,o=e.errors,u=e.isDragging,i=e.dragProps;return(r.a.createElement("div",{className:"upload__image-wrapper"},o&&r.a.createElement(ee.a,{style:{color:"red"}},"Ki\u1ec3m tra s\u1ed1 l\u01b0\u1ee3ng \u1ea3nh"),r.a.createElement("div",null,r.a.createElement(F.a,Object.assign({component:"span",variant:"outlined",color:u?"secondary":"primary",onClick:a},i),r.a.createElement(ne.a,{style:{fontSize:"5rem"}}))),"\xa0",r.a.createElement(l.a,{container:!0},t.map((function(e,t){return r.a.createElement(l.a,{key:t,item:!0,md:6},r.a.createElement("div",{className:"image-item"},r.a.createElement("img",{src:e.data_url,alt:"selected"}),r.a.createElement("div",{className:"image-item__btn-wrapper"},r.a.createElement(F.a,{color:"primary",onClick:function(){return n(t)}},r.a.createElement(W.a,null)),r.a.createElement(F.a,{color:"secondary",onClick:function(){return c(t)}},r.a.createElement(re.a,null)))))})))))}))},oe=a(347),le=a.n(oe),ue=function(e){var t=e.getContentFromRTE,a=e.defaultValue,c=Object(n.useRef)(null);return r.a.createElement(le.a,{ref:c,tabIndex:1,config:{readonly:!1},value:a,onChange:function(e){return t(e)}})},ie=function(){var e=Object(T.b)(),t=Object(s.h)().productId,a=Object(s.f)(),c=Object(T.c)((function(e){return e.product.productById})),o=Object(T.c)((function(e){return e.brand.brands})),u=Object(T.c)((function(e){return e.category.categories})),i=Object(n.useRef)(null);Object(n.useEffect)((function(){e(function(e){return function(t){q.fetchProductById(e).then((function(e){t($(e.data))})).catch((function(e){return C.b.error(e.response.data.message)}))}}(t)),e(D()),e(G())}),[e,t]),Object(n.useEffect)((function(){var e=[];(null===c||void 0===c?void 0:c.productImages)&&c.productImages.map((function(t){return e.push({data_url:j+"/"+t})})),y(e)}),[c]);var m=Object(n.useState)(),d=Object(x.a)(m,2),p=d[0],h=d[1],b=Object(n.useState)(),E=Object(x.a)(b,2),g=E[0],y=E[1],v=Object(n.useState)(!0),O=Object(x.a)(v,2),_=O[0],P=O[1],k=Object(n.useState)(!1),B=Object(x.a)(k,2),S=B[0],R=B[1],F=function(e){h(Object(w.a)({},p,Object(I.a)({},e.target.name,e.target.value))),R(!0)};return c&&r.a.createElement(l.a,{container:!0,justify:"center"},r.a.createElement(l.a,{item:!0,md:6},r.a.createElement(z.a,null,r.a.createElement(Q.a,{style:{width:"400px",margin:"10px 20px"}},r.a.createElement(N.a,{label:"T\xean s\u1ea3n ph\u1ea9m",defaultValue:c.name,variant:"filled",onChange:F,fullWidth:!0,name:"name"})),r.a.createElement(Q.a,{style:{width:"400px",margin:"10px 20px"}},r.a.createElement(X.a,{htmlFor:"brand"},"T\xean nh\xe3n h\xe0ng"),r.a.createElement(Z.a,{inputProps:{name:"brand",id:"brand"},variant:"filled",defaultValue:c.brand._id,onChange:F},o&&o.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.nameBrand)})))),r.a.createElement(Q.a,{style:{width:"400px",margin:"10px 20px"}},r.a.createElement(X.a,{htmlFor:"categories"},"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),r.a.createElement(Z.a,{inputProps:{name:"category",id:"category"},defaultValue:c.category._id,onChange:F},u&&u.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.nameCategory)})))),r.a.createElement(Q.a,{style:{width:"400px",margin:"10px 20px"}},r.a.createElement(ue,{getContentFromRTE:function(e){if(i.current=e,c.detail!==i.current)return R(!0)},defaultValue:c.detail})),r.a.createElement(Q.a,{style:{width:"200px",margin:"10px 20px"}},r.a.createElement(N.a,{name:"capacity",label:"C\xf4ng su\u1ea5t",defaultValue:c.capacity,variant:"filled",onChange:F})),r.a.createElement(Q.a,{style:{width:"200px",margin:"10px 20px"}},r.a.createElement(X.a,{htmlFor:"isNewProduct"},"T\xecnh tr\u1ea1ng"),r.a.createElement(Z.a,{inputProps:{name:"isNewProduct",id:"isNewProduct"},defaultValue:!!c.isNewProduct,onChange:F},r.a.createElement("option",{value:!0},"M\u1edbi "),r.a.createElement("option",{value:!1},"C\u0169"))),r.a.createElement(ee.a,null," ** Thay \u0111\u1ed5i n\u1ed9i dung mu\u1ed1n thay \u0111\u1ed5i xong nh\u1ea5n L\u01b0u"),r.a.createElement(Q.a,{style:{padding:"0 40px"},fullWidth:!0},r.a.createElement(f.a,{disabled:!S,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),S&&function(e,t,a){q.updateProductById(e,t).then((function(e){a.push("/products"),console.log(e),C.b.info(e.data.message)})).catch((function(e){C.b.error(e.response.data.message)}))}(Object(w.a)({},p,{detail:i.current}),t,a)}},"L\u01b0u")))),r.a.createElement(l.a,{item:!0,md:6},r.a.createElement(Q.a,null,r.a.createElement(ee.a,null," *** Mu\u1ed1n c\u1eadp nh\u1eadt h\xecnh m\u1edbi ph\u1ea3i xo\xe1 t\u1ea5t c\u1ea3 \u1ea3nh c\u0169 sau \u0111\xf3 ch\u1ecdn l\u1ea1i \u1ea3nh m\u1edbi "),r.a.createElement(ce,{maxNumber:4,isMultiple:!0,handleFile:function(e){y(e),P(!1)},imageList:g})),r.a.createElement(Q.a,{style:{padding:"0 40px"},fullWidth:!0},r.a.createElement(f.a,{disabled:_,variant:"contained",color:"primary",onClick:function(e){if(e.preventDefault(),!_){for(var n=new FormData,r=0;r<g.length;r++)n.append("productImages",g[r].file);!function(e,t,a){q.updateImageProduct(e,t).then((function(e){a.push("/products"),C.b.info(e.data.message)})).catch((function(e){C.b.error(e.response.data.message)}))}(n,t,a)}}},"L\u01b0u \u1ea3nh m\u1edbi"))))},me=Object(n.createContext)(),de=function(e){var t=e.children,a=Object(s.f)(),c=Object(n.useState)({}),o=Object(x.a)(c,2),l=o[0],u=o[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("profile"));e?u(e):a.push("/login")}),[a]),r.a.createElement(me.Provider,{value:{profile:l}},t)},se=a(525),pe=a(555),fe=a(556),he=a(557),be=a(558),Ee=a(559),ge=a(560),ye=(a(416),a(528)),je=a(5),ve=a(550),Oe=a(286),Ce=function(e){var t=e.tabSelected,a=e.setTabSelected,n=e.history,c=e.tabIndex,o=e.icon,l=e.route,u=e.label,i=Object(je.a)({root:{"&$selected":{backgroundColor:"#2980b9",color:"white","& .MuiListItemIcon-root":{color:"white"}},"&$selected:hover":{backgroundColor:"#2980b9",color:"white","& .MuiListItemIcon-root":{color:"white"}},"&:hover":{backgroundColor:"#95a5a6",color:"white","& .MuiListItemIcon-root":{color:"white"}}},selected:{}})(ye.a);return r.a.createElement(i,{button:!0,selected:t===c,onClick:function(){n.push("".concat(l)),a(c)}},r.a.createElement(ve.a,null,o),r.a.createElement(Oe.a,{primary:u}))},Te=[{route:"/admin",tabIndex:0,icon:r.a.createElement(pe.a,null),label:"Home"},{route:"/products",tabIndex:1,icon:r.a.createElement(fe.a,null),label:"S\u1ea3n ph\u1ea9m"},{route:"/products/add-product",tabIndex:2,icon:r.a.createElement(he.a,null),label:"Th\xeam s\u1ea3n ph\u1ea9m"},{route:"/projects",tabIndex:3,icon:r.a.createElement(be.a,null),label:"D\u1ef1 \xe1n"},{route:"/projects/add-project",tabIndex:4,icon:r.a.createElement(Ee.a,null),label:"Th\xeam d\u1ef1 \xe1n"},{route:"/categories",tabIndex:5,icon:r.a.createElement(be.a,null),label:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"},{route:"/brands",tabIndex:6,icon:r.a.createElement(ge.a,null),label:"Nh\xe3n h\xe0ng"}],_e=function(){var e=Object(s.f)(),t=Object(n.useState)(0),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(s.g)();return Object(n.useEffect)((function(){switch(l.pathname){case"/":case"/admin":o(0);break;case"/products":o(1);break;case"/products/add-product":o(2);break;case"/projects":o(3);break;case"/projects/add-project":o(4);break;case"/categories":o(5);break;case"/brands":o(6)}}),[l.pathname]),r.a.createElement(se.a,{component:"nav",className:"sidelist"},Te.map((function(t,a){return r.a.createElement(Ce,{key:a,history:e,route:t.route,tabSelected:c,setTabSelected:o,tabIndex:t.tabIndex,icon:t.icon,label:t.label})})))},Ie=function(){var e=Object(T.b)(),t=Object(s.f)(),a=Object(T.c)((function(e){return e.product.products}));Object(n.useEffect)((function(){e((function(e){q.fetchProducts().then((function(t){e(K(t.data))})).catch((function(e){return console.log}))}))}),[e]);var c=[{name:"_id",label:"Id",options:{display:!1,filter:!1,sort:!1}},{name:"name",label:"T\xean s\u1ea3n ph\u1ea9m",option:{filter:!1,sort:!1}},{name:"productImages",label:"H\xecnh \u1ea3nh",options:{filter:!1,sort:!1,customBodyRender:function(e){return r.a.createElement("img",{src:j+"/"+e[0],alt:"product",width:"100px",height:"100px"})}}},{name:"detail",label:"M\xf4 t\u1ea3",options:{filter:!1,sort:!1,display:!1}},{name:"isNewProduct",label:"T\xecnh tr\u1ea1ng",options:{customBodyRender:function(e){return e?"M\u1edbi":"C\u0169"}}},{name:"category.nameCategory",label:"Lo\u1ea1i s\u1ea3n ph\u1ea9m",options:{sort:!1}},{name:"brand.nameBrand",label:"H\xe3ng",options:{sort:!1}},{name:"capacity.nameCapacity",label:"C\xf4ng su\u1ea5t",options:{display:!1,sort:!1,filter:!1}},{name:"Thi\u1ebft l\u1eadp",options:{filter:!1,sort:!1,empty:!0,customBodyRender:function(a,n,c){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){return t.push("/products/update-product/".concat(n.rowData[0]))}},"C\u1eadp nh\u1eadt"),r.a.createElement(f.a,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:function(){var t;e((t="".concat(n.rowData[0]),function(e){q.deleteProductById(t).then((function(a){e({type:"DELETE_PRODUCT_BY_ID",payload:t}),C.b.info(a.data.message)})).catch((function(e){return C.b.error(e.response.data.message)}))}))}},"X\xf3a"))}}}];return r.a.createElement(B.a,{className:"table__products",title:"Danh s\xe1ch s\u1ea3n ph\u1ea9m",data:a||void 0,columns:c,options:{selectableRows:"none",filterType:"dropdown",rowsPerPage:5}})},we=a(200),xe=(a(417),function(){var e=Object(T.b)(),t=Object(s.f)(),a=Object(T.c)((function(e){return e.brand.brands})),c=Object(T.c)((function(e){return e.category.categories})),o=Object(n.useRef)(null),u=Object(n.useState)({}),i=Object(x.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)([]),h=Object(x.a)(p,2),b=h[0],E=h[1],g=Object(n.useState)(!1),y=Object(x.a)(g,2),j=y[0],v=y[1];Object(n.useEffect)((function(){e(D()),e(G())}),[e]);var O=function(e){d(Object(w.a)({},m,Object(I.a)({},e.target.name,e.target.value))),_()},_=function(){return""===m.name||""===m.brand||""===m.category||""===o.current||""===m.capacity||""===m.isNewProduct||4!==b.length?v(!1):v(!0)};return r.a.createElement(l.a,{container:!0,justify:"space-between"},r.a.createElement(l.a,{item:!0,md:4,style:{padding:"1.3rem 1.8rem"}},r.a.createElement(ee.a,null,"Ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m"),r.a.createElement(Q.a,{variant:"filled",fullWidth:!0},r.a.createElement(we.a,{native:!0,name:"category",value:m.category,onChange:O},r.a.createElement("option",{defaultValue:!0},"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),c&&c.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.nameCategory)})))),r.a.createElement(Q.a,{variant:"filled",fullWidth:!0},r.a.createElement(ee.a,null,"Ch\u1ecdn h\xe3ng "),r.a.createElement(we.a,{native:!0,name:"brand",onChange:O},r.a.createElement("option",{defaultValue:!0},"Ch\u1ecdn h\xe3ng"),a&&a.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.nameBrand)})))),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null,"Nh\u1eadp t\xean s\u1ea3n ph\u1ea5m"),r.a.createElement(N.a,{variant:"filled",label:"T\xean s\u1ea3n ph\u1ea9m",name:"name",onChange:O})),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null,"Nh\u1eadp c\xf4ng su\u1ea5t c\u1ee7a m\xe1y ( c\xf3 th\u1ec3 b\u1ecf qua tr\u01b0\u1eddng n\xe0y )"),r.a.createElement(N.a,{variant:"filled",placeholder:"Nh\u1eadp c\xf4ng su\u1ea5t",name:"capacity",onChange:O})),r.a.createElement(Q.a,{fullWidth:!0,variant:"filled"},r.a.createElement(ee.a,null,"Nh\u1eadp t\xecnh tr\u1ea1ng m\xe1y"),r.a.createElement(we.a,{native:!0,id:"inputState",name:"isNewProduct",onChange:O},r.a.createElement("option",{defaultValue:!0},"T\xecnh tr\u1ea1ng"),r.a.createElement("option",{value:!0},"M\u1edbi"),r.a.createElement("option",{value:!1},"C\u0169")))),r.a.createElement(l.a,{item:!0,md:8,style:{padding:"1.3rem 1.8rem"}},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null," Ch\u1ecdn 4 \u1ea3nh s\u1ea3n ph\u1ea9m  "),r.a.createElement(ce,{maxNumber:4,isMultiple:!0,handleFile:function(e){E(e),_()}})),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null,"Nh\u1eadp chi ti\u1ebft s\u1ea3n ph\u1ea9m"),r.a.createElement(ue,{getContentFromRTE:function(e){o.current=e,_()}})),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(f.a,{disabled:!j,variant:"contained",color:"primary",type:"submit",onClick:function(e){if(e.preventDefault(),j){var a=new FormData;a.append("name",m.name),a.append("brand",m.brand),a.append("category",m.category),a.append("detail",o.current),a.append("capacity",m.capacity),a.append("isNewProduct",m.isNewProduct);for(var n=0;n<b.length;n++)a.append("productImages",b[n].file);!function(e,t){q.createProduct(e).then((function(e){t.push("/products"),C.b.success(e.data.message)})).catch((function(e){return C.b.error(e.response.data.message)}))}(a,t)}},align:"center"},"Th\xeam s\u1ea3n ph\u1ea9m"))))}),Ne=(a(418),function(){return r.a.createElement("div",{className:"notfoundpage"},r.a.createElement("div",{className:"notfoundpage__container"},r.a.createElement("p",null,"Oops! \u0110\u01b0\u1eddng d\u1eabn n\xe0y kh\xf4ng t\u1ed3n t\u1ea1i"),r.a.createElement("h1",null," 404 error"),r.a.createElement("a",{href:"/admin"},"Quay l\u1ea1i trang ch\u1ee7")))}),Pe=a(530),ke=a(549),Be=a(561),Se=new(function(){function e(){Object(E.a)(this,e)}return Object(g.a)(e,[{key:"createProject",value:function(e){return v({url:"api/projects/create-project",method:"POST",data:e})}},{key:"fetchProjects",value:function(){return v({url:"api/projects/get-projects",method:"GET"})}},{key:"fetchProjectById",value:function(e){return v({url:"api/projects/get-project-by-id/".concat(e),method:"GET"})}},{key:"deleteProjectById",value:function(e){return v({url:"api/projects/delete-project-by-id/".concat(e),method:"DELETE"})}},{key:"updateProjectById",value:function(e,t){return v({url:"api/projects/update-project-by-id/".concat(e),data:t,method:"PUT"})}},{key:"updateProjectThumb",value:function(e,t){return v({url:"api/projects/update-project-thumb/".concat(e),data:t,method:"PUT"})}}]),e}()),De=function(){return function(e){Se.fetchProjects().then((function(t){return e({type:"FETCH_PROJECTS",payload:t.data})})).catch((function(e){return C.b.error("\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra")}))}},Re=a(547),Fe=a(546),Le=function(e){var t=e.project,a=e.handleDeleteProject,n=Object(s.f)(),c=Object(s.g)().pathname;return r.a.createElement(l.a,{item:!0,md:3,sm:6,xs:12,className:"project__item"},r.a.createElement(u.a,null,r.a.createElement(Re.a,{component:"img",height:"140",image:j+"/"+t.projectThumb,alt:"project"}),r.a.createElement(m.a,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"div"},t.title.slice(0,40)+"...")),r.a.createElement(Fe.a,null,r.a.createElement(F.a,{color:"primary",onClick:function(){return n.push("".concat(c,"/update-project/").concat(t._id))}},r.a.createElement(W.a,null)),r.a.createElement(F.a,{color:"secondary",onClick:function(){return a(t._id)}},r.a.createElement(re.a,null)))))},We=(a(289),function(){var e=Object(T.c)((function(e){return e.project.projects})),t=Object(T.b)(),a=Object(n.useRef)(null),c=Object(n.useState)(),o=Object(x.a)(c,2),u=(o[0],o[1]),i=function(e){t(function(e){return function(t){Se.deleteProjectById(e).then((function(a){t({type:"DELETE_PROJECT_BY_ID",payload:e}),C.b.success(a.data.message)})).catch((function(e){return console.log(e.response.data.message)}))}}(e))};return Object(n.useEffect)((function(){t(De())}),[t]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"project__filterbar"},r.a.createElement(Q.a,{sx:{m:1,width:"25ch"},onChange:function(e){var n=e.target.value;u(n),a.current&&clearTimeout(a.current),a.current=setTimeout((function(){if(""===n)return t(De());t(function(e){return function(t){return t({type:"FILTER_PROJECTS",payload:e})}}(n))}),500)},md:{width:"5rem "},variant:"outlined"},r.a.createElement(X.a,{htmlFor:"outlined-adornment-password"},"T\xecm ki\u1ebfm b\xe0i vi\u1ebft..."),r.a.createElement(Pe.a,{id:"outlined-adornment-password",endAdornment:r.a.createElement(ke.a,{position:"end"},r.a.createElement(Be.a,null)),label:"Password"}))),r.a.createElement(l.a,{container:!0,className:"project__posts",justify:"space-evenly"},e&&e.map((function(e){return r.a.createElement(Le,{handleDeleteProject:i,project:e,key:e._id})}))))}),Ue=a(548),He=function(){var e=Object(s.f)(),t=Object(n.useRef)(null),a=Object(n.useState)({title:"",images:[]}),c=Object(x.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(!1),i=Object(x.a)(u,2),m=i[0],d=i[1],p=function(){o.title&&0!==o.images.length&&""!==t.current?d(!0):d(!1)};return r.a.createElement(Ue.a,{style:{marginTop:"3rem"},maxWidth:"md"},r.a.createElement(z.a,{style:{border:"1px dotted #535c68",padding:"1rem 1.5rem"}},r.a.createElement(Q.a,{name:"title",onChange:function(e){l(Object(w.a)({},o,{title:e.target.value})),p()}},r.a.createElement(ee.a,null,"Nh\u1eadp ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"),r.a.createElement(N.a,{variant:"outlined",label:"Ti\xeau \u0111\u1ec1"})),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null," Ch\u1ecdn \u1ea3nh ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft "),r.a.createElement(ce,{maxNumber:1,isMultiple:!1,handleFile:function(e){l(Object(w.a)({},o,{images:e}))}})),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,{perText:!0},"Nh\u1eadp n\u1ed9i dung b\xe0i vi\u1ebft"),r.a.createElement(ue,{getContentFromRTE:function(e){t.current=e,p()}})),r.a.createElement(Q.a,{onClick:function(){if(m){var a=new FormData;a.append("title",o.title),a.append("content",t.current),a.append("projectThumb",o.images[0].file),function(e,t){Se.createProject(e).then((function(e){t.push("/projects"),C.b.success("\u0110\xe3 t\u1ea1o th\xe0nh c\xf4ng")})).catch((function(e){return Object(C.b)(e.response.data)}))}(a,e)}}},r.a.createElement(f.a,{disabled:!m,style:{marginTop:"2rem"},color:"primary",variant:"contained"}," L\u01b0u b\xe0i vi\u1ebft"))))},Me=function(){var e=Object(s.h)().projectId,t=Object(T.b)(),a=Object(s.f)(),c=Object(T.c)((function(e){return e.project.projectById})),o=Object(n.useState)(""),u=Object(x.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(!0),p=Object(x.a)(d,2),h=p[0],b=p[1],E=Object(n.useState)([]),g=Object(x.a)(E,2),y=g[0],v=g[1],O=Object(n.useState)(!1),_=Object(x.a)(O,2),I=_[0],w=_[1],P=Object(n.useRef)(null);Object(n.useEffect)((function(){t(function(e){return function(t){Se.fetchProjectById(e).then((function(e){return t({type:"FETCH_PROJECT_BY_ID",payload:e.data})})).catch((function(e){return C.b.error(e.response.data.message)}))}}(e))}),[t,e]),Object(n.useEffect)((function(){var e=[];(null===c||void 0===c?void 0:c.projectThumb)&&(e.push({data_url:j+"/"+c.projectThumb}),v(e))}),[c]);var k=function(){return""!==i||P.current!==c.content?b(!0):(""===P.current||i.length,b(!1))};return c&&r.a.createElement(l.a,{container:!0},r.a.createElement(l.a,{item:!0,md:6},r.a.createElement(z.a,{style:{border:"1px dotted #535c68",padding:"1rem 1.5rem"}},r.a.createElement(Q.a,{name:"title"},r.a.createElement(ee.a,null,"Nh\u1eadp ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft"),r.a.createElement(N.a,{defaultValue:c.title,variant:"outlined",label:"Ti\xeau \u0111\u1ec1",onChange:function(e){m(e.target.value)},onBlur:k})),r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null,"Nh\u1eadp n\u1ed9i dung b\xe0i vi\u1ebft"),r.a.createElement(ue,{getContentFromRTE:function(e){P.current=e,k()},defaultValue:c.content})),r.a.createElement(Q.a,{onClick:function(){h&&function(e,t,a){Se.updateProjectById(e,t).then((function(e){a.push("/projects"),C.b.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})).catch((function(e){return C.b.error(e.response.data.message)}))}(e,{title:i,content:P.current},a)}},r.a.createElement(f.a,{disabled:!h,style:{marginTop:"2rem"},color:"primary",variant:"contained"}," L\u01b0u b\xe0i vi\u1ebft")))),r.a.createElement(l.a,{item:!0,md:6},r.a.createElement(z.a,{style:{border:"1px dotted #535c68",padding:"1rem 1.5rem"}},r.a.createElement(Q.a,{fullWidth:!0},r.a.createElement(ee.a,null," Ch\u1ecdn \u1ea3nh ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft "),r.a.createElement(ee.a,null," * Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn 1 \u1ea3nh"),r.a.createElement(ce,{maxNumber:1,isMultiple:!1,handleFile:function(e){v(e),0===y.length?w(!1):w(!0)},imageList:y})),r.a.createElement(Q.a,null,r.a.createElement(f.a,{disabled:!I,variant:"contained",color:"primary",onClick:function(){var t=new FormData;t.append("projectThumb",y[0].file),function(e,t,a){Se.updateProjectThumb(e,t).then((function(e){a.push("/projects"),C.b.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})).catch((function(e){return Object(C.b)(e.response.data.message)}))}(e,t,a)}},"L\u01b0u \u1ea3nh ti\xeau \u0111\u1ec1")))))};var Ae=function(){var e=Object(s.g)();return r.a.createElement(n.Fragment,null,"/login"===e.pathname?null:r.a.createElement(_,null),r.a.createElement(C.a,{position:C.b.POSITION.TOP_RIGHT,autoClose:3e3,hideProgressBar:!0}),r.a.createElement(de,null,r.a.createElement(l.a,{container:!0},"/login"===e.pathname?null:r.a.createElement(l.a,{item:!0,md:2},r.a.createElement(_e,null)),r.a.createElement(l.a,{item:!0,md:10},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/projects",exact:!0,component:We}),r.a.createElement(s.a,{path:"/projects/update-project/:projectId",exact:!0,component:Me}),r.a.createElement(s.a,{path:"/projects/add-project",exact:!0,component:He}),r.a.createElement(s.a,{path:"/products",exact:!0,component:Ie}),r.a.createElement(s.a,{path:"/products/add-product",exact:!0,component:xe}),r.a.createElement(s.a,{path:"/products/update-product/:productId",exact:!0,component:ie}),r.a.createElement(s.a,{path:"/categories",exact:!0,component:H}),r.a.createElement(s.a,{path:"/brands",exact:!0,component:Y}),r.a.createElement(s.a,{path:"/login",exact:!0,component:P}),r.a.createElement(s.a,{path:"/admin",exact:!0,component:p}),r.a.createElement(s.a,{path:"/",exact:!0,component:p}),r.a.createElement(s.a,{path:"*",exact:!0,component:Ne}))))),"/login"===e.pathname?null:r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=a(70),Je=a(348),Ve=a(37),Ye=a(349),qe=a.n(Ye),$e={profile:{}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return e.profile=qe.a.verify(t.payload,"LTTNElectric"),localStorage.setItem("profile",JSON.stringify(e.profile)),Object(w.a)({},e);case"LOGOUT":return localStorage.clear(),e;default:return e}},ze=a(19),Qe={brands:null},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BRAND":return Object(w.a)({},e,{brands:t.payload});case"ADD_BRAND":var a=[].concat(Object(ze.a)(e.brands),[t.payload]);return Object(w.a)({},e,{brands:a});default:return e}},Ze={categories:null},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES":return e.categories=t.payload,Object(w.a)({},e);case"ADD_CATEGORY":var a=[].concat(Object(ze.a)(e.categories),[t.payload]);return Object(w.a)({},e,{categories:a});default:return e}},tt={products:null,productById:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return e.products=t.payload,Object(w.a)({},e);case"FETCH_PRODUCT_BY_ID":return e.productById=t.payload,Object(w.a)({},e);case"DELETE_PRODUCT_BY_ID":var a=e.products.filter((function(e){return e._id!==t.payload}));return Object(w.a)({},e,{products:a});default:return e}},nt={projects:null,projectById:null},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROJECTS":return Object(w.a)({},e,{projects:t.payload});case"FETCH_PROJECT_BY_ID":return Object(w.a)({},e,{projectById:t.payload});case"FILTER_PROJECTS":var a=e.projects.filter((function(e){return e.slug.toLowerCase().includes(t.payload.toLowerCase())}));return Object(w.a)({},e,{projects:a});case"DELETE_PROJECT_BY_ID":var n=e.projects.filter((function(e){return e._id!==t.payload}));return Object(w.a)({},e,{projects:n});default:return e}},ct=Object(Ge.c)({user:Ke,brand:Xe,category:et,product:at,project:rt}),ot=[Je.a],lt=Object(Ge.e)(ct,{},Object(Ge.d)(Ge.a.apply(void 0,ot)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ve.a,null,r.a.createElement(T.a,{store:lt},r.a.createElement(Ae,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[358,1,2]]]);
//# sourceMappingURL=main.7f46af72.chunk.js.map